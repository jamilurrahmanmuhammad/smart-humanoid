# Feature Specification: Hierarchical Documentation Structure

**Feature**: 003-docs-structure-user-story-3
**Created**: 2025-12-02
**Status**: Draft
**Parent**: 001-docusaurus-setup (User Story 3)

## Purpose

Restructure the documentation folder organization to implement a hierarchical module > chapter structure where modules are top-level expandable categories and chapters are nested children within modules.

---

## User Scenarios & Testing

### User Story 3.1 - Hierarchical Content Structure (Priority: P1)

As an author, I want a documentation structure where chapters are nested inside modules so that content follows a logical learning progression.

**Content Hierarchy**:
- **Modules** are top-level learning units (e.g., "Introduction to Robotics", "Motion Planning")
- **Chapters** are children nested within modules (e.g., Module 1 → Chapter 1.1, 1.2, 1.3)
- This hierarchy enables progressive learning paths where users complete chapters within a module before advancing

**Acceptance Scenarios**:

1. Given the docs folder exists, when viewing the structure, then modules are top-level directories and chapters are subdirectories within modules
2. Given the sidebar renders, when viewing the docs section, then modules appear as expandable categories with chapters nested underneath
3. Given a module exists, when an author adds a new chapter file, then it appears nested under the parent module in the sidebar
4. Given the documentation structure exists, when navigating to a chapter, then the breadcrumb shows Module > Chapter hierarchy

---

### User Story 3.2 - Sidebar Navigation (Priority: P2)

As a learner, I want to see modules as expandable categories in the sidebar so that I can navigate through chapters within each module.

**Acceptance Scenarios**:

1. Given the docs page loads, when viewing the sidebar, then each module displays with an expand/collapse button
2. Given a module is expanded, when viewing its contents, then the child chapters are listed in order
3. Given the sidebar is visible, when clicking on a module name, then it navigates to the module index page

---

### Edge Cases

- Empty module: A module with no chapters should display with a placeholder message
- Single chapter: A module with only one chapter should still display as expandable
- Deep nesting: Structure should not support more than 2 levels (module > chapter only)

---

## Requirements

### Functional Requirements

#### Documentation Structure
- **FR-001**: Modules MUST be top-level directories under `docs/`
- **FR-002**: Chapters MUST exist only as subdirectories within module directories
- **FR-003**: Each module MUST have a `_category_.json` file defining sidebar label and position
- **FR-004**: Each module MUST have an `index.md` file as the module landing page
- **FR-005**: Each chapter MUST be a markdown file within a module directory
- **FR-006**: The current `docs/chapters/` directory MUST be removed (chapters moved into modules)

#### Sidebar Behaviour
- **FR-007**: Sidebar MUST display modules as expandable categories
- **FR-008**: Sidebar MUST display chapters nested under their parent module
- **FR-009**: Sidebar MUST reflect the module > chapter hierarchy with proper indentation

#### Migration
- **FR-010**: Existing module/chapter content MUST be preserved during restructure
- **FR-011**: E2E tests MUST be updated to reflect the new structure

---

## Non-Functional Requirements

- **NFR-001**: All 17 existing E2E tests MUST continue to pass after restructure
- **NFR-002**: Build time MUST remain under 60 seconds
- **NFR-003**: Sidebar must render within 1 second of page load

---

## Constraints

- **C-001**: Only restructure docs folder - no changes to homepage or navigation
- **C-002**: Use Docusaurus native sidebar generation (autogenerated from filesystem)
- **C-003**: No custom sidebar plugins required

---

## Key Entities

- **Module**: Top-level learning unit directory (e.g., `docs/module-1-robotic-nervous-system/`)
- **Chapter**: Markdown file within a module directory (e.g., `docs/module-1-robotic-nervous-system/chapter-1-ros-basics.md`)
- **Category Config**: `_category_.json` file defining module metadata for sidebar

### Target Structure

```
docs/
├── intro.md                           # Standalone welcome page
├── module-1-robotic-nervous-system/   # Module (expandable category)
│   ├── _category_.json                # Module metadata
│   ├── index.md                       # Module landing page
│   ├── chapter-1-ros-basics.md        # Chapter 1.1
│   └── chapter-2-urdf.md              # Chapter 1.2
├── module-2-digital-twin/             # Module (expandable category)
│   ├── _category_.json
│   ├── index.md
│   └── chapter-1-gazebo.md
├── rag/                               # AI assistant content
│   └── .gitkeep
└── assets/                            # Documentation assets
    └── .gitkeep
```

---

## Success Criteria

- **SC-001**: Sidebar displays modules as expandable categories
- **SC-002**: Chapters appear nested under their parent module in sidebar
- **SC-003**: No standalone `docs/chapters/` directory exists
- **SC-004**: All E2E tests pass (17 total)
- **SC-005**: Module > chapter breadcrumb navigation works correctly
- **SC-006**: Build succeeds with zero errors and warnings
